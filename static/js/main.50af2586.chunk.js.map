{"version":3,"sources":["orbits/orbits.js","orbits/orbits.jsx","quadtree/quadtree.js","quadtree/quadtree.jsx","Main.jsx","index.js"],"names":["c","ctx","stop","interval","now","then","elapsed","width","height","originx","originy","system","trail","fill","show_text","largest_mass","fpsmin","fpsmax","step","Body","mass","position","velocity","color","G","this","other","disp","displacement","magnitude","direction","bodies","final","forEach","e","f","force","length","shift","temp","push","randrange","lower","upper","Math","random","update_values","t","time","click","text","addEventListener","handle_down","handle_up","removeEventListener","clientX","clientY","vel","draw_body","beginPath","arc","floor","log10","calculate_radius","PI","closePath","draw","requestAnimationFrame","Date","clearRect","round","font","strokeStyle","fillText","toString","draw_text","globalAlpha","apply","total","update","fillStyle","lineWidth","moveTo","i","xc","yc","quadraticCurveTo","n","stroke","draw_approx_trail","k","lineTo","draw_exact_trail","boundary","tree","Orbits","props","state","num","handleChange","bind","handleCheckboxChange","handleReset","handleClear","handleRender","document","getElementById","getContext","setState","target","name","value","reset","checked","id","onClick","type","onChange","React","Component","Quad","capacity","points","divided","point","contains","divide","ne","insert","nw","se","sw","x","y","w","h","Rect","rect","p","Point","add_point","Quadtree","window","init","innerHeight","Main","basename","exact","path","class","to","ReactDOM","render","console","log"],"mappings":"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","file":"static/js/main.50af2586.chunk.js","sourcesContent":["let c, ctx, stop, interval, now, then, elapsed, width, height, originx, originy;\r\nlet system = [];\r\nlet trail = 'none';\r\nlet fill = false;\r\nlet show_text = false;\r\n\r\nlet largest_mass = 0;\r\n\r\nconst fps = 60;\r\nlet fpsmin = 100000;\r\nlet fpsmax = 0;\r\n\r\nlet step = 1;\r\n\r\nclass Body {\r\n\r\n    G = 6.674e-11;\r\n\r\n    constructor(mass, position, velocity, color) {\r\n        this.mass = mass;\r\n        this.position = position;\r\n        this.velocity = velocity;\r\n        this.trail = [];\r\n        this.color = color;\r\n\r\n        largest_mass = largest_mass < mass ? mass : largest_mass;\r\n    }\r\n\r\n    displacement(other) {\r\n        return ((other.position[0] - this.position[0]) ** 2 + (other.position[1] - this.position[1]) ** 2) ** 0.5\r\n    }\r\n\r\n    force(other) {\r\n        let disp = this.displacement(other)\r\n        let magnitude = this.G * ((other.mass * this.mass) / disp ** 2)\r\n        let direction = [(other.position[0] - this.position[0]) / disp, (other.position[1] - this.position[1]) / disp]\r\n\r\n        return [magnitude * direction[0], magnitude * direction[1]]\r\n    }\r\n\r\n    total(bodies) {\r\n        let final = [0, 0];\r\n\r\n        bodies.forEach(e => {\r\n            if (e !== this) {\r\n                let f = this.force(e);\r\n                final[0] += f[0];\r\n                final[1] += f[1];\r\n            }\r\n        });\r\n\r\n        return final;\r\n    }\r\n\r\n    apply(force) {\r\n        this.velocity[0] = (this.velocity[0] * this.mass + force[0] * step) / this.mass;\r\n        this.velocity[1] = (this.velocity[1] * this.mass + force[1] * step) / this.mass;\r\n    }\r\n\r\n    update() {\r\n        this.position[0] += this.velocity[0] * step;\r\n        this.position[1] += this.velocity[1] * step;\r\n\r\n        if (this.trail.length === 20) {\r\n            this.trail.shift();\r\n        }\r\n\r\n        let temp = [this.position[0], this.position[1]];\r\n        this.trail.push(temp);\r\n\r\n    }\r\n}\r\n\r\n//---------------------- Helper functions ------------------------\r\n\r\nfunction randrange(lower, upper) {\r\n    return Math.random() * (upper - lower) + lower;\r\n}\r\n\r\nfunction calculate_radius(e) {\r\n    return Math.floor(2 ** (Math.log10(e.mass) / 3))\r\n}\r\n\r\nexport function update_values(t, f, time, click, text) {\r\n    trail = t;\r\n    fill = f;\r\n    step = time;\r\n    show_text = text;\r\n\r\n    if (click) {\r\n        add_listener();\r\n    } else {\r\n        remove_listener();\r\n    }\r\n\r\n    fpsmin = 1000;\r\n    fpsmax = 0;\r\n}\r\n\r\nfunction add_listener() {\r\n    c.addEventListener('mousedown', handle_down);\r\n    c.addEventListener('mouseup', handle_up);\r\n}\r\n\r\nfunction remove_listener() {\r\n    c.removeEventListener('mousedown', handle_down);\r\n    c.removeEventListener('mouseup', handle_up);\r\n}\r\n\r\nfunction handle_down(e) {\r\n    originx = e.clientX;\r\n    originy = e.clientY;\r\n\r\n}\r\n\r\nfunction handle_up(e) {\r\n\r\n    let vel = [(e.clientX - originx) / 20, (e.clientY - originy) / 20]\r\n    system.push(new Body(\r\n        1e10,\r\n        [originx, originy],\r\n        vel,\r\n        'rgb(0, 0, 0)'\r\n    ))\r\n\r\n    draw_body(system[system.length - 1]);\r\n}\r\n\r\n//---------------------- Initialise functions --------------------------\r\n\r\nexport function init() {\r\n    c = document.getElementById(\"orbit\");\r\n    ctx = c.getContext(\"2d\");\r\n\r\n    width = c.width;\r\n    height = c.height;\r\n\r\n    stop = 1;\r\n}\r\n\r\nexport function reset(num) {\r\n    stop = 1;\r\n\r\n    ctx.clearRect(0, 0, width, height);\r\n\r\n    system = [];\r\n\r\n    system.push(new Body(\r\n        1e14,\r\n        [Math.round(width / 2), Math.round(height / 2)],\r\n        [0, 0],\r\n        'rgb(0, 0, 0)'\r\n    ))\r\n\r\n    for (let i = 0; i < num; i++) {\r\n        system.push(new Body(\r\n            Math.random() * 1e10,\r\n            [randrange(0, width), randrange(0, height)],\r\n            [randrange(-5, 5), randrange(-5, 5)],\r\n            'rgb(' + (Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255)) + ')'\r\n        ))\r\n\r\n\r\n        ctx.fillStyle = system[i].color;\r\n        draw_body(system[i]);\r\n\r\n    }\r\n}\r\n\r\nexport function clear() {\r\n    system = [];\r\n    ctx.clearRect(0, 0, width, height)\r\n}\r\n\r\n\r\n// ----------------------- Draw functions ---------------------------\r\n\r\nfunction draw_body(e) {\r\n    ctx.beginPath();\r\n\r\n\r\n    ctx.arc(e.position[0], e.position[1], calculate_radius(e), 0, 2 * Math.PI);\r\n\r\n    ctx.fill();\r\n    ctx.closePath();\r\n}\r\n\r\n\r\nfunction draw_approx_trail(e) {\r\n\r\n    ctx.beginPath();\r\n\r\n    ctx.moveTo(e.trail[0], e.trail[1]);\r\n\r\n\r\n    //Code adapted from https://stackoverflow.com/questions/7054272/how-to-draw-smooth-curve-through-n-points-using-javascript-html5-canvas\r\n    //Generates an approximate curve through the trail points.\r\n\r\n    for (let i = 0; i < e.trail.length - 2; i++) {\r\n\r\n        let xc = (e.trail[i][0] + e.trail[i + 1][0]) / 2;\r\n        let yc = (e.trail[i][1] + e.trail[i + 1][1]) / 2;\r\n\r\n        ctx.quadraticCurveTo(e.trail[i][0], e.trail[i][1], xc, yc);\r\n    }\r\n\r\n    if (e.trail.length > 1) {\r\n        let n = e.trail.length - 2;\r\n\r\n        ctx.quadraticCurveTo(e.trail[n][0], e.trail[n][1], e.trail[n + 1][0], e.trail[n + 1][1]);\r\n    }\r\n\r\n    ctx.stroke();\r\n\r\n    if (fill === true) {\r\n        ctx.fill();\r\n    }\r\n\r\n    ctx.closePath();\r\n}\r\n\r\nfunction draw_exact_trail(e) {\r\n    ctx.beginPath();\r\n\r\n    ctx.moveTo(e.trail[0][0], e.trail[0][1]);\r\n\r\n    e.trail.forEach(k => {\r\n\r\n        ctx.lineTo(k[0], k[1]);\r\n    })\r\n\r\n    ctx.stroke();\r\n\r\n    if (fill === true) {\r\n        ctx.fill();\r\n    }\r\n\r\n    ctx.closePath();\r\n}\r\n\r\nfunction draw_text() {\r\n\r\n    let f = Math.round(1000 / elapsed);\r\n    fpsmax = f > fpsmax ? f : fpsmax;\r\n    fpsmin = f < fpsmin ? f : fpsmin;\r\n\r\n    ctx.font = '18px serif';\r\n    ctx.strokeStyle = 'rgb(0, 0, 0)';\r\n    ctx.fillText('fps: ' + f.toString(), 10, 20);\r\n    ctx.fillText('max: ' + fpsmax.toString(), 10, 40);\r\n    ctx.fillText('min: ' + fpsmin.toString(), 10, 60)\r\n    ctx.fillText('bodies: ' + system.length.toString(), 10, 80)\r\n}\r\n\r\n//------------------------------ Loop -------------------------------\r\n\r\nexport function rend() {\r\n    stop = stop ^ 1;\r\n    interval = 1000 / fps\r\n    then = Date.now();\r\n\r\n    draw();\r\n}\r\n\r\nfunction draw() {\r\n    if (!stop) {\r\n        requestAnimationFrame(draw);\r\n    }\r\n\r\n    now = Date.now();\r\n    elapsed = now - then;\r\n\r\n    if (elapsed > interval) {\r\n        then = now - (elapsed % interval);\r\n\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        if (show_text) {\r\n            draw_text();\r\n        }\r\n\r\n\r\n        system.forEach(e => {\r\n\r\n            ctx.globalAlpha = 1;\r\n\r\n            e.apply(e.total(system));\r\n            e.update();\r\n\r\n            ctx.strokeStyle = e.color;\r\n            ctx.fillStyle = e.color;\r\n\r\n            draw_body(e);\r\n\r\n            ctx.globalAlpha = 0.8;\r\n            ctx.lineWidth = 1;\r\n\r\n\r\n            switch (trail) {\r\n                case 'curve':\r\n                    draw_approx_trail(e);\r\n                    break;\r\n\r\n                case 'line':\r\n                    draw_exact_trail(e);\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { init, rend, reset, update_values, clear } from './orbits';\r\n\r\nexport class Orbits extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tnum: 100,\r\n\t\t\ttrail: 'none',\r\n\t\t\tfill: false,\r\n\t\t\ttime: 1,\r\n\t\t\tclick: false,\r\n\t\t\ttext: false\r\n\t\t}\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n\t\tthis.handleReset = this.handleReset.bind(this);\r\n\t\tthis.handleClear = this.handleClear.bind(this);\r\n\t\tthis.handleRender = this.handleRender.bind(this);\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tinit();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tupdate_values(\r\n\t\t\tthis.state.trail,\r\n\t\t\tthis.state.fill,\r\n\t\t\tthis.state.time,\r\n\t\t\tthis.state.click,\r\n\t\t\tthis.state.text\r\n\t\t);\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tthis.setState({ [e.target.name]: e.target.value })\r\n\t}\r\n\r\n\thandleReset(e) {\r\n\t\treset(this.state.num);\r\n\t}\r\n\r\n\thandleClear(e) {\r\n\t\tclear();\r\n\t}\r\n\r\n\thandleCheckboxChange(e) {\r\n\t\tthis.setState({ [e.target.name]: e.target.checked })\r\n\t}\r\n\r\n\thandleRender() {\r\n\t\trend();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"outer\">\r\n\t\t\t\t<div id='canvas'>\r\n\t\t\t\t\t<canvas id=\"orbit\" width={1600} height={800}></canvas>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button onClick={this.handleRender}>Stop/Start</button>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tNumber of bodies\r\n\t\t\t\t\t<input name='num' type='number' value={this.state.num} onChange={this.handleChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tTrail type\r\n\t\t\t\t\t<select name='trail' value={this.state.trail} onChange={this.handleChange}>\r\n\t\t\t\t\t\t<option value=\"none\">No trail</option>\r\n\t\t\t\t\t\t<option value=\"line\">Lines</option>\r\n\t\t\t\t\t\t<option value=\"curve\">Approximate curve</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tFill curve\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"fill\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.state.fill}\r\n\t\t\t\t\t\tonChange={this.handleCheckboxChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tAdd planet on click.\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"click\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.state.click}\r\n\t\t\t\t\t\tonChange={this.handleCheckboxChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tShow details\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"text\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.state.text}\r\n\t\t\t\t\t\tonChange={this.handleCheckboxChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tSimulation speed\r\n\t\t\t\t\t<input name='time' type='number' value={this.state.time} onChange={this.handleChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\r\n\t\t\t\t<button onClick={this.handleReset}>Generate</button>\r\n\t\t\t\t<button onClick={this.handleClear}>Clear</button>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","class Quad {\r\n    constructor(boundary, capacity) {\r\n        this.boundary = boundary;\r\n        this.capacity = capacity;\r\n        this.points = [];\r\n        this.divided = false;\r\n    }\r\n\r\n    insert(point) {\r\n        if (!this.boundary.contains(point)) {\r\n            return;\r\n        }\r\n\r\n        if (this.points.length < this.capacity) {\r\n            this.points.push(point)\r\n        } else {\r\n            if (!this.divided) {\r\n                this.divide();\r\n                this.divided = true;\r\n            }\r\n\r\n            this.ne.insert(point);\r\n            this.nw.insert(point);\r\n            this.se.insert(point);\r\n            this.sw.insert(point);\r\n\r\n        }\r\n    }\r\n\r\n    divide() {\r\n        let x = this.boundary.x;\r\n        let y = this.boundary.y;\r\n        let w = this.boundary.w;\r\n        let h = this.boundary.h;\r\n\r\n        this.ne = new Quad(new Rect(x - (w / 2), y - (h / 2), w / 2, h / 2), this.capacity);\r\n        this.nw = new Quad(new Rect(x + (w / 2), y - (h / 2), w / 2, h / 2), this.capacity);\r\n        this.se = new Quad(new Rect(x - (w / 2), y + (h / 2), w / 2, h / 2), this.capacity);\r\n        this.sw = new Quad(new Rect(x + (w / 2), y + (h / 2), w / 2, h / 2), this.capacity);\r\n    }\r\n\r\n    draw() {\r\n\r\n        let x = this.boundary.x;\r\n        let y = this.boundary.y;\r\n        let w = this.boundary.w;\r\n        let h = this.boundary.h;\r\n\r\n        ctx.beginPath();\r\n        ctx.rect(x - w, y - h, w * 2, h * 2)\r\n        ctx.closePath();\r\n\r\n\r\n        this.points.forEach(p => {\r\n            ctx.beginPath();\r\n\r\n            ctx.arc(p.x, p.y, 1, 0, Math.PI * 2)\r\n\r\n            ctx.closePath();\r\n        })\r\n        ctx.stroke();\r\n\r\n        if (this.divided) {\r\n            this.ne.draw();\r\n            this.nw.draw();\r\n            this.se.draw();\r\n            this.sw.draw();\r\n        }\r\n        ctx.stroke();\r\n\r\n    }\r\n}\r\n\r\nclass Point {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\r\nclass Rect {\r\n    constructor(x, y, w, h) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n\r\n    contains(p) {\r\n        return (p.x > this.x - this.w && p.x < this.x + this.w &&\r\n            p.y > this.y - this.h && p.y < this.y + this.h)\r\n    }\r\n}\r\n\r\nexport function init(height) {\r\n    c = document.getElementById(\"quad\");\r\n    ctx = c.getContext(\"2d\");\r\n\r\n    boundary = new Rect(height / 2, height / 2, height / 2, height / 2);\r\n\r\n\r\n    window.addEventListener(\"click\", add_point)\r\n\r\n    draw();\r\n}\r\n\r\nfunction add_point(e) {\r\n    system.push(new Point(e.clientX, e.clientY));\r\n}\r\n\r\nfunction draw() {\r\n\r\n    tree = new Quad(boundary, 1)\r\n\r\n    system.forEach(e => {\r\n        tree.insert(e);\r\n    })\r\n\r\n    tree.draw();\r\n\r\n\r\n    requestAnimationFrame(draw);\r\n}\r\n\r\nlet boundary, tree, c, ctx\r\nlet system = [];","import React from 'react';\r\nimport { init } from './quadtree';\r\n\r\nexport class Quadtree extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        init(window.innerHeight);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <canvas id=\"quad\" width={window.innerHeight} height={window.innerHeight}></canvas>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport { Orbits } from \"./orbits/orbits.jsx\";\r\nimport './main.css'\r\nimport { Quadtree } from \"./quadtree/quadtree.jsx\";\r\n\r\nexport class Main extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Router basename=\"src\">\r\n\t\t\t\t<Switch>\r\n\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<div id='main'>\r\n\t\t\t\t\t\t\t<div class='tile' id='orbits'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/orbits\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\t<h1>Orbits</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class='tile' id='quadtree'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/quadtree\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\tquadtree\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/orbits\">\r\n\t\t\t\t\t\t<Orbits />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/quadtree\">\r\n\t\t\t\t\t\t<Quadtree />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Main } from \"./Main.jsx\";\n\nReactDOM.render(<Main />, document.getElementById(\"app\"));\nconsole.log(\"Loaded\")"],"sourceRoot":""}