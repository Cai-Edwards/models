{"version":3,"sources":["orbits/orbits.js","orbits/orbits.jsx","quadtree/quadtree.js","maze/maze.js","quadtree/quadtree.jsx","maze/maze.jsx","sorting/sorting.js","sorting/sorting.jsx","collsions/collisions.jsx","chisquared/pvalue.js","chisquared/chisquared.jsx","chisquared/chisquared.js","Main.jsx","index.js"],"names":["c","ctx","stop","interval","now","then","elapsed","width","height","originx","originy","system","trail","fill","show_text","largest_mass","fpsmin","fpsmax","step","Body","mass","position","velocity","color","G","this","other","disp","displacement","magnitude","direction","bodies","final","forEach","e","f","force","length","shift","temp","push","randrange","lower","upper","Math","random","update_values","t","time","click","text","addEventListener","handle_down","handle_up","removeEventListener","clientX","clientY","vel","draw_body","beginPath","arc","floor","log10","calculate_radius","PI","closePath","draw","requestAnimationFrame","Date","clearRect","round","font","strokeStyle","fillText","toString","draw_text","globalAlpha","apply","total","update","fillStyle","lineWidth","moveTo","i","xc","yc","quadraticCurveTo","n","stroke","draw_approx_trail","k","lineTo","draw_exact_trail","boundary","tree","Orbits","props","state","num","handleChange","bind","handleCheckboxChange","handleReset","handleClear","handleRender","document","getElementById","getContext","setState","target","name","value","reset","checked","id","window","innerWidth","innerHeight","onClick","type","onChange","React","Component","Quad","capacity","points","divided","point","contains","divide","ne","insert","nw","se","sw","x","y","w","h","Rect","rect","p","Point","add_point","maze","o","cursor_pos","sizex","sizey","speed","Quadtree","init","Maze","grid","make","edges","Node","current","cx","cy","possible","walls","travelled","generate","end","depth_first","a","nodes","dir","available","pop","choice","prims","idx","surrounding_travelled","splice","node","s","Promise","resolve","setTimeout","row","arr","skip","bar_width","handleUpdate","low","high","randomise","bubble_sort","swap","selection_sort","maxidx","j","Sorting","parseInt","normal__x","z","z2","prev","exp","sqrt","p_nor","normaldist","q_chi2","df","chi2","chi","ChiSquared","rows","columns","inputs","values","lookup","horizontal","horizontalv","vertical","verticalv","sumh","sumv","freq","enough","warning","sig","renderTable","dataChange","renderData","renderHeader","headerChange","renderLeft","leftChange","footerSum","totalUpdate","expectedBody","expectedHeader","r","hv","zv","hn","zn","forceUpdate","v","l","parseFloat","expected","frac","col","val","expected_frequencies","b","sum","chi_sq","reduce","map","inp","pos","placeholder","data","key","min","className","toFixed","en","war","result","max","Main","basename","exact","path","class","to","ReactDOM","render","console","log"],"mappings":"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","file":"static/js/main.729b1408.chunk.js","sourcesContent":["let c, ctx, stop, interval, now, then, elapsed, width, height, originx, originy;\r\nlet system = [];\r\nlet trail = 'none';\r\nlet fill = false;\r\nlet show_text = false;\r\n\r\nlet largest_mass = 0;\r\n\r\nconst fps = 60;\r\nlet fpsmin = 100000;\r\nlet fpsmax = 0;\r\n\r\nlet step = 1;\r\n\r\nclass Body {\r\n\r\n    G = 6.674e-11;\r\n\r\n    constructor(mass, position, velocity, color) {\r\n        this.mass = mass;\r\n        this.position = position;\r\n        this.velocity = velocity;\r\n        this.trail = [];\r\n        this.color = color;\r\n\r\n        largest_mass = largest_mass < mass ? mass : largest_mass;\r\n    }\r\n\r\n    displacement(other) {\r\n        return ((other.position[0] - this.position[0]) ** 2 + (other.position[1] - this.position[1]) ** 2) ** 0.5\r\n    }\r\n\r\n    force(other) {\r\n        let disp = this.displacement(other)\r\n        let magnitude = this.G * ((other.mass * this.mass) / disp ** 2)\r\n        let direction = [(other.position[0] - this.position[0]) / disp, (other.position[1] - this.position[1]) / disp]\r\n\r\n        return [magnitude * direction[0], magnitude * direction[1]]\r\n    }\r\n\r\n    total(bodies) {\r\n        let final = [0, 0];\r\n\r\n        bodies.forEach(e => {\r\n            if (e !== this) {\r\n                let f = this.force(e);\r\n                final[0] += f[0];\r\n                final[1] += f[1];\r\n            }\r\n        });\r\n\r\n        return final;\r\n    }\r\n\r\n    apply(force) {\r\n        this.velocity[0] = (this.velocity[0] * this.mass + force[0] * step) / this.mass;\r\n        this.velocity[1] = (this.velocity[1] * this.mass + force[1] * step) / this.mass;\r\n    }\r\n\r\n    update() {\r\n        this.position[0] += this.velocity[0] * step;\r\n        this.position[1] += this.velocity[1] * step;\r\n\r\n        if (this.trail.length === 20) {\r\n            this.trail.shift();\r\n        }\r\n\r\n        let temp = [this.position[0], this.position[1]];\r\n        this.trail.push(temp);\r\n\r\n    }\r\n}\r\n\r\n//---------------------- Helper functions ------------------------\r\n\r\nfunction randrange(lower, upper) {\r\n    return Math.random() * (upper - lower) + lower;\r\n}\r\n\r\nfunction calculate_radius(e) {\r\n    return Math.floor(2 ** (Math.log10(e.mass) / 3))\r\n}\r\n\r\nexport function update_values(t, f, time, click, text) {\r\n    trail = t;\r\n    fill = f;\r\n    step = time;\r\n    show_text = text;\r\n\r\n    if (click) {\r\n        add_listener();\r\n    } else {\r\n        remove_listener();\r\n    }\r\n\r\n    fpsmin = 1000;\r\n    fpsmax = 0;\r\n}\r\n\r\nfunction add_listener() {\r\n    c.addEventListener('mousedown', handle_down);\r\n    c.addEventListener('mouseup', handle_up);\r\n}\r\n\r\nfunction remove_listener() {\r\n    c.removeEventListener('mousedown', handle_down);\r\n    c.removeEventListener('mouseup', handle_up);\r\n}\r\n\r\nfunction handle_down(e) {\r\n    originx = e.clientX;\r\n    originy = e.clientY;\r\n\r\n}\r\n\r\nfunction handle_up(e) {\r\n\r\n    let vel = [(e.clientX - originx) / 20, (e.clientY - originy) / 20]\r\n    system.push(new Body(\r\n        1e10,\r\n        [originx, originy],\r\n        vel,\r\n        'rgb(0, 0, 0)'\r\n    ))\r\n\r\n    draw_body(system[system.length - 1]);\r\n}\r\n\r\n//---------------------- Initialise functions --------------------------\r\n\r\nexport function init() {\r\n    c = document.getElementById(\"orbit\");\r\n    ctx = c.getContext(\"2d\");\r\n\r\n    width = c.width;\r\n    height = c.height;\r\n\r\n    stop = 1;\r\n}\r\n\r\nexport function reset(num) {\r\n    stop = 1;\r\n\r\n    ctx.clearRect(0, 0, width, height);\r\n\r\n    system = [];\r\n\r\n    system.push(new Body(\r\n        1e14,\r\n        [Math.round(width / 2), Math.round(height / 2)],\r\n        [0, 0],\r\n        'rgb(0, 0, 0)'\r\n    ))\r\n\r\n    for (let i = 0; i < num; i++) {\r\n        system.push(new Body(\r\n            Math.random() * 1e10,\r\n            [randrange(0, width), randrange(0, height)],\r\n            [randrange(-5, 5), randrange(-5, 5)],\r\n            'rgb(' + (Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255)) + ')'\r\n        ))\r\n\r\n\r\n        ctx.fillStyle = system[i].color;\r\n        draw_body(system[i]);\r\n\r\n    }\r\n}\r\n\r\nexport function clear() {\r\n    system = [];\r\n    ctx.clearRect(0, 0, width, height)\r\n}\r\n\r\n\r\n// ----------------------- Draw functions ---------------------------\r\n\r\nfunction draw_body(e) {\r\n    ctx.beginPath();\r\n\r\n\r\n    ctx.arc(e.position[0], e.position[1], calculate_radius(e), 0, 2 * Math.PI);\r\n\r\n    ctx.fill();\r\n    ctx.closePath();\r\n}\r\n\r\n\r\nfunction draw_approx_trail(e) {\r\n\r\n    ctx.beginPath();\r\n\r\n    ctx.moveTo(e.trail[0], e.trail[1]);\r\n\r\n\r\n    //Code adapted from https://stackoverflow.com/questions/7054272/how-to-draw-smooth-curve-through-n-points-using-javascript-html5-canvas\r\n    //Generates an approximate curve through the trail points.\r\n\r\n    for (let i = 0; i < e.trail.length - 2; i++) {\r\n\r\n        let xc = (e.trail[i][0] + e.trail[i + 1][0]) / 2;\r\n        let yc = (e.trail[i][1] + e.trail[i + 1][1]) / 2;\r\n\r\n        ctx.quadraticCurveTo(e.trail[i][0], e.trail[i][1], xc, yc);\r\n    }\r\n\r\n    if (e.trail.length > 1) {\r\n        let n = e.trail.length - 2;\r\n\r\n        ctx.quadraticCurveTo(e.trail[n][0], e.trail[n][1], e.trail[n + 1][0], e.trail[n + 1][1]);\r\n    }\r\n\r\n    ctx.stroke();\r\n\r\n    if (fill === true) {\r\n        ctx.fill();\r\n    }\r\n\r\n    ctx.closePath();\r\n}\r\n\r\nfunction draw_exact_trail(e) {\r\n    ctx.beginPath();\r\n\r\n    ctx.moveTo(e.trail[0][0], e.trail[0][1]);\r\n\r\n    e.trail.forEach(k => {\r\n\r\n        ctx.lineTo(k[0], k[1]);\r\n    })\r\n\r\n    ctx.stroke();\r\n\r\n    if (fill === true) {\r\n        ctx.fill();\r\n    }\r\n\r\n    ctx.closePath();\r\n}\r\n\r\nfunction draw_text() {\r\n\r\n    let f = Math.round(1000 / elapsed);\r\n    fpsmax = f > fpsmax ? f : fpsmax;\r\n    fpsmin = f < fpsmin ? f : fpsmin;\r\n\r\n    ctx.font = '18px serif';\r\n    ctx.strokeStyle = 'rgb(0, 0, 0)';\r\n    ctx.fillText('fps: ' + f.toString(), 10, 20);\r\n    ctx.fillText('max: ' + fpsmax.toString(), 10, 40);\r\n    ctx.fillText('min: ' + fpsmin.toString(), 10, 60)\r\n    ctx.fillText('bodies: ' + system.length.toString(), 10, 80)\r\n}\r\n\r\n//------------------------------ Loop -------------------------------\r\n\r\nexport function rend() {\r\n    stop = stop ^ 1;\r\n    interval = 1000 / fps\r\n    then = Date.now();\r\n\r\n    draw();\r\n}\r\n\r\nfunction draw() {\r\n    if (!stop) {\r\n        requestAnimationFrame(draw);\r\n    }\r\n\r\n    now = Date.now();\r\n    elapsed = now - then;\r\n\r\n    if (elapsed > interval) {\r\n        then = now - (elapsed % interval);\r\n\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        if (show_text) {\r\n            draw_text();\r\n        }\r\n\r\n\r\n        system.forEach(e => {\r\n\r\n            ctx.globalAlpha = 1;\r\n\r\n            e.apply(e.total(system));\r\n            e.update();\r\n\r\n            ctx.strokeStyle = e.color;\r\n            ctx.fillStyle = e.color;\r\n\r\n            draw_body(e);\r\n\r\n            ctx.globalAlpha = 0.8;\r\n            ctx.lineWidth = 1;\r\n\r\n\r\n            switch (trail) {\r\n                case 'curve':\r\n                    draw_approx_trail(e);\r\n                    break;\r\n\r\n                case 'line':\r\n                    draw_exact_trail(e);\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { init, rend, reset, update_values, clear } from './orbits';\r\n\r\nexport class Orbits extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tnum: 100,\r\n\t\t\ttrail: 'none',\r\n\t\t\tfill: false,\r\n\t\t\ttime: 1,\r\n\t\t\tclick: false,\r\n\t\t\ttext: false\r\n\t\t}\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n\t\tthis.handleReset = this.handleReset.bind(this);\r\n\t\tthis.handleClear = this.handleClear.bind(this);\r\n\t\tthis.handleRender = this.handleRender.bind(this);\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tinit();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tupdate_values(\r\n\t\t\tthis.state.trail,\r\n\t\t\tthis.state.fill,\r\n\t\t\tthis.state.time,\r\n\t\t\tthis.state.click,\r\n\t\t\tthis.state.text\r\n\t\t);\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tthis.setState({ [e.target.name]: e.target.value })\r\n\t}\r\n\r\n\thandleReset(e) {\r\n\t\treset(this.state.num);\r\n\t}\r\n\r\n\thandleClear(e) {\r\n\t\tclear();\r\n\t}\r\n\r\n\thandleCheckboxChange(e) {\r\n\t\tthis.setState({ [e.target.name]: e.target.checked })\r\n\t}\r\n\r\n\thandleRender() {\r\n\t\trend();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"outer\">\r\n\t\t\t\t<div id='canvas'>\r\n\t\t\t\t\t<canvas id=\"orbit\" width={window.innerWidth} height={window.innerHeight / 1.5}></canvas>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button onClick={this.handleRender}>Stop/Start</button>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tNumber of bodies\r\n\t\t\t\t\t<input name='num' type='number' value={this.state.num} onChange={this.handleChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tTrail type\r\n\t\t\t\t\t<select name='trail' value={this.state.trail} onChange={this.handleChange}>\r\n\t\t\t\t\t\t<option value=\"none\">No trail</option>\r\n\t\t\t\t\t\t<option value=\"line\">Lines</option>\r\n\t\t\t\t\t\t<option value=\"curve\">Approximate curve</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tFill curve\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"fill\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.state.fill}\r\n\t\t\t\t\t\tonChange={this.handleCheckboxChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tAdd planet on click.\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"click\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.state.click}\r\n\t\t\t\t\t\tonChange={this.handleCheckboxChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tShow details\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"text\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.state.text}\r\n\t\t\t\t\t\tonChange={this.handleCheckboxChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\tSimulation speed\r\n\t\t\t\t\t<input name='time' type='number' value={this.state.time} onChange={this.handleChange} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<br />\r\n\r\n\r\n\t\t\t\t<button onClick={this.handleReset}>Generate</button>\r\n\t\t\t\t<button onClick={this.handleClear}>Clear</button>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","class Quad {\r\n    constructor(boundary, capacity) {\r\n        this.boundary = boundary;\r\n        this.capacity = capacity;\r\n        this.points = [];\r\n        this.divided = false;\r\n    }\r\n\r\n    insert(point) {\r\n        if (!this.boundary.contains(point)) {\r\n            return;\r\n        }\r\n\r\n        if (this.points.length < this.capacity) {\r\n            this.points.push(point)\r\n        } else {\r\n            if (!this.divided) {\r\n                this.divide();\r\n                this.divided = true;\r\n            }\r\n\r\n            this.ne.insert(point);\r\n            this.nw.insert(point);\r\n            this.se.insert(point);\r\n            this.sw.insert(point);\r\n\r\n        }\r\n    }\r\n\r\n    divide() {\r\n        let x = this.boundary.x;\r\n        let y = this.boundary.y;\r\n        let w = this.boundary.w;\r\n        let h = this.boundary.h;\r\n\r\n        this.ne = new Quad(new Rect(x - (w / 2), y - (h / 2), w / 2, h / 2), this.capacity);\r\n        this.nw = new Quad(new Rect(x + (w / 2), y - (h / 2), w / 2, h / 2), this.capacity);\r\n        this.se = new Quad(new Rect(x - (w / 2), y + (h / 2), w / 2, h / 2), this.capacity);\r\n        this.sw = new Quad(new Rect(x + (w / 2), y + (h / 2), w / 2, h / 2), this.capacity);\r\n    }\r\n\r\n    draw() {\r\n\r\n        let x = this.boundary.x;\r\n        let y = this.boundary.y;\r\n        let w = this.boundary.w;\r\n        let h = this.boundary.h;\r\n\r\n        ctx.beginPath();\r\n        ctx.rect(x - w, y - h, w * 2, h * 2)\r\n        ctx.closePath();\r\n\r\n\r\n        this.points.forEach(p => {\r\n            ctx.beginPath();\r\n\r\n            ctx.arc(p.x, p.y, 1, 0, Math.PI * 2)\r\n\r\n            ctx.closePath();\r\n        })\r\n        ctx.stroke();\r\n\r\n        if (this.divided) {\r\n            this.ne.draw();\r\n            this.nw.draw();\r\n            this.se.draw();\r\n            this.sw.draw();\r\n        }\r\n        ctx.stroke();\r\n\r\n    }\r\n}\r\n\r\nclass Point {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\r\nclass Rect {\r\n    constructor(x, y, w, h) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n\r\n    contains(p) {\r\n        return (p.x > this.x - this.w && p.x < this.x + this.w &&\r\n            p.y > this.y - this.h && p.y < this.y + this.h)\r\n    }\r\n}\r\n\r\nexport function init(height) {\r\n    c = document.getElementById(\"quad\");\r\n    ctx = c.getContext(\"2d\");\r\n\r\n    boundary = new Rect(height / 2, height / 2, height / 2, height / 2);\r\n\r\n\r\n    window.addEventListener(\"click\", add_point)\r\n\r\n    draw();\r\n}\r\n\r\nfunction add_point(e) {\r\n    system.push(new Point(e.clientX, e.clientY));\r\n}\r\n\r\nfunction draw() {\r\n\r\n    tree = new Quad(boundary, 1)\r\n\r\n    system.forEach(e => {\r\n        tree.insert(e);\r\n    })\r\n\r\n    tree.draw();\r\n\r\n\r\n    requestAnimationFrame(draw);\r\n}\r\n\r\nlet boundary, tree, c, ctx\r\nlet system = [];","let c, ctx, height, width, maze, o, prev, cursor_pos, stop, step, sizex, sizey, w, h, speed;\r\n\r\nclass Maze {\r\n    constructor(w, h) {\r\n        this.width = w;\r\n        this.height = h;\r\n        this.grid = [];\r\n        this.make();\r\n    }\r\n\r\n    make() {\r\n        for (let y = 0; y < this.height; y++) {\r\n            this.grid.push([]);\r\n\r\n            for (let x = 0; x < this.width; x++) {\r\n                let edges = 0b0000;\r\n\r\n                edges |= (y === 0) ? 0b1000 : 0;\r\n                edges |= (x === 0) ? 0b0001 : 0;\r\n                edges |= (this.height - 1 === y) ? 0b0010 : 0;\r\n                edges |= (this.width - 1 === x) ? 0b0100 : 0;\r\n\r\n                this.grid[y].push(new Node(0b1111, edges, x, y));\r\n            }\r\n        }\r\n    }\r\n\r\n    available(current) {\r\n        let cx = current.x;\r\n        let cy = current.y\r\n\r\n        let possible = current.walls & ~current.edges;\r\n        let n = [];\r\n\r\n        if ((possible & 0b1000) && (!this.grid[cy - 1][cx].travelled)) { n.push(\"n\") };\r\n\r\n        if ((possible & 0b0100) && (!this.grid[cy][cx + 1].travelled)) { n.push(\"e\") };\r\n\r\n        if ((possible & 0b0010) && (!this.grid[cy + 1][cx].travelled)) { n.push(\"s\") };\r\n\r\n        if ((possible & 0b0001) && (!this.grid[cy][cx - 1].travelled)) { n.push(\"w\") };\r\n\r\n        return n;\r\n    };\r\n}\r\n\r\nclass Node {\r\n    constructor(walls, edges, x, y) {\r\n        this.walls = walls;\r\n        this.edges = edges;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.travelled = false;\r\n    }\r\n}\r\n\r\nexport function init() {\r\n    c = document.getElementById('maze_canvas');\r\n    ctx = c.getContext(\"2d\");\r\n    height = c.height;\r\n    width = c.width;\r\n    step = 1;\r\n    sizex = 25;\r\n    sizey = 10;\r\n    speed = 100;\r\n\r\n\r\n    ctx.lineWidth = 1;\r\n    ctx.fillStyle = \"red\";\r\n\r\n    generate();\r\n}\r\n\r\nexport function generate() {\r\n    maze = new Maze(sizex, sizey);\r\n    w = Math.floor(width / maze.width);\r\n    h = Math.floor(height / maze.height);\r\n    cursor_pos = [0, 0]\r\n\r\n\r\n    draw();\r\n}\r\n\r\nexport function update(x, y, p, s) {\r\n    sizex = x;\r\n    sizey = y;\r\n    speed = p;\r\n    step = s;\r\n}\r\n\r\nexport function end() {\r\n    stop = 1;\r\n}\r\n\r\nexport async function depth_first() {\r\n    stop = 0;\r\n\r\n    let nodes = [maze.grid[0][0]];\r\n\r\n    while (nodes.length !== 0) {\r\n\r\n        if (stop) {\r\n            return;\r\n        }\r\n\r\n        let current = nodes[nodes.length - 1];\r\n        cursor_pos = [current.x, current.y];\r\n\r\n        current.travelled = true;\r\n\r\n        let dir = maze.available(current);\r\n\r\n        if (!dir.length) {\r\n            nodes.pop();\r\n        } else {\r\n            let choice = dir[Math.floor(Math.random() * dir.length)];\r\n\r\n            switch (choice) {\r\n                case \"n\":\r\n                    current.walls &= 0b0111;\r\n                    o = maze.grid[current.y - 1][current.x];\r\n                    o.walls &= 0b1101;\r\n                    break;\r\n\r\n                case \"e\":\r\n                    current.walls &= 0b1011;\r\n                    o = maze.grid[current.y][current.x + 1];\r\n                    o.walls &= 0b1110;\r\n                    break;\r\n\r\n                case \"s\":\r\n                    current.walls &= 0b1101;\r\n                    o = maze.grid[current.y + 1][current.x];\r\n                    o.walls &= 0b0111;\r\n                    break;\r\n\r\n                case \"w\":\r\n                    current.walls &= 0b1110;\r\n                    o = maze.grid[current.y][current.x - 1];\r\n                    o.walls &= 0b1011;\r\n                    break;\r\n            }\r\n\r\n            nodes.push(o);\r\n\r\n\r\n        }\r\n\r\n        if (step) {\r\n            await draw();\r\n        }\r\n\r\n    }\r\n\r\n    draw();\r\n\r\n}\r\n\r\nexport async function prims() {\r\n    stop = 0;\r\n\r\n    let nodes = [maze.grid[0][0]];\r\n\r\n    while (nodes.length !== 0) {\r\n\r\n        if (stop) {\r\n            return;\r\n        }\r\n\r\n        let idx = Math.floor(Math.random() * nodes.length)\r\n        let current = nodes[idx];\r\n\r\n        cursor_pos = [current.x, current.y];\r\n\r\n        current.travelled = true;\r\n\r\n        let dir = maze.available(current);\r\n\r\n        if (!dir.length) {\r\n            nodes.pop();\r\n        } else {\r\n            let choice = dir[Math.floor(Math.random() * dir.length)];\r\n\r\n            switch (choice) {\r\n                case \"n\":\r\n                    current.walls &= 0b0111;\r\n                    o = maze.grid[current.y - 1][current.x];\r\n                    o.walls &= 0b1101;\r\n                    break;\r\n\r\n                case \"e\":\r\n                    current.walls &= 0b1011;\r\n                    o = maze.grid[current.y][current.x + 1];\r\n                    o.walls &= 0b1110;\r\n                    break;\r\n\r\n                case \"s\":\r\n                    current.walls &= 0b1101;\r\n                    o = maze.grid[current.y + 1][current.x];\r\n                    o.walls &= 0b0111;\r\n                    break;\r\n\r\n                case \"w\":\r\n                    current.walls &= 0b1110;\r\n                    o = maze.grid[current.y][current.x - 1];\r\n                    o.walls &= 0b1011;\r\n                    break;\r\n            }\r\n\r\n            nodes.push(o);\r\n        }\r\n\r\n        if (dir.length === 1 || surrounding_travelled(current)) {\r\n            nodes.splice(idx, 1);\r\n        }\r\n\r\n        if (step) {\r\n            await draw();\r\n        }\r\n\r\n    }\r\n\r\n    draw();\r\n}\r\n\r\nfunction surrounding_travelled(node) {\r\n    let x = node.x;\r\n    let y = node.y;\r\n\r\n    let n = maze.grid[y - 1][x].travelled || true;\r\n    let e = maze.grid[y][x + 1].travelled || true;\r\n    let s = maze.grid[y + 1][x].travelled || true;\r\n    let w = maze.grid[y][x - 1].travelled || true;\r\n\r\n    return (n && e && s && w);\r\n}\r\n\r\nfunction draw() {\r\n\r\n    return new Promise(resolve => {\r\n        setTimeout(() => {\r\n            ctx.clearRect(0, 0, width, height)\r\n            ctx.beginPath();\r\n\r\n\r\n\r\n            for (let row of maze.grid) {\r\n                for (let node of row) {\r\n                    let x = w * node.x;\r\n                    let y = h * node.y;\r\n\r\n                    if (node.walls & 0b1000) {\r\n                        ctx.moveTo(x, y);\r\n                        ctx.lineTo(x + w, y);\r\n                    }\r\n\r\n                    if (node.walls & 0b0100) {\r\n                        ctx.moveTo(x + w, y);\r\n                        ctx.lineTo(x + w, y + h);\r\n                    }\r\n\r\n                    if (node.walls & 0b0010) {\r\n                        ctx.moveTo(x + w, y + h);\r\n                        ctx.lineTo(x, y + h);\r\n                    }\r\n\r\n                    if (node.walls & 0b0001) {\r\n                        ctx.moveTo(x, y + h);\r\n                        ctx.lineTo(x, y);\r\n                    }\r\n                }\r\n            }\r\n\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n\r\n            ctx.beginPath();\r\n            ctx.rect(cursor_pos[0] * w, cursor_pos[1] * h, w, h);\r\n            ctx.fill();\r\n            ctx.closePath();\r\n\r\n            resolve(\"Drawn\");\r\n        }, speed)\r\n\r\n    })\r\n\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport { init } from './quadtree';\r\n\r\nexport class Quadtree extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        init(window.innerHeight);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <canvas id=\"quad\" width={window.innerHeight} height={window.innerHeight}></canvas>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { init, update, depth_first, end, generate, prims } from './maze';\r\n\r\nexport class Maze extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            width: 25,\r\n            height: 10,\r\n            speed: 100,\r\n            step: true\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleUpdate = this.handleUpdate.bind(this);\r\n        this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        init();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.handleUpdate();\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    handleUpdate() {\r\n        update(\r\n            this.state.width,\r\n            this.state.height,\r\n            this.state.speed,\r\n            this.state.step\r\n        )\r\n    }\r\n\r\n    handleCheckboxChange(e) {\r\n        this.setState({ [e.target.name]: e.target.checked })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"outer\">\r\n                <h1>Maze</h1>\r\n                <canvas id=\"maze_canvas\" width={window.innerWidth} height={Math.round(window.innerHeight / 1.3)}></canvas>\r\n\r\n                <button onClick={generate}>Generate</button>\r\n                <button onClick={depth_first}>Depth first</button>\r\n                <button onClick={prims}>Prims</button>\r\n                <button onClick={end}>Stop</button>\r\n\r\n                <br />\r\n\r\n                <label>\r\n                    Width\r\n                    <input\r\n                        name=\"width\"\r\n                        type=\"number\"\r\n                        value={this.state.width}\r\n                        onChange={this.handleChange} />\r\n                </label>\r\n\r\n                <br />\r\n\r\n                <label>\r\n                    Height\r\n                    <input\r\n                        name=\"height\"\r\n                        type=\"number\"\r\n                        value={this.state.height}\r\n                        onChange={this.handleChange} />\r\n                </label>\r\n\r\n                <br />\r\n\r\n                <label>\r\n                    Speed\r\n                    <input\r\n                        name=\"speed\"\r\n                        type=\"number\"\r\n                        value={this.state.speed}\r\n                        onChange={this.handleChange} />\r\n                </label>\r\n\r\n                <br />\r\n\r\n                <label>\r\n                    Show creation\r\n\t\t\t\t\t<input\r\n                        name=\"step\"\r\n                        type=\"checkbox\"\r\n                        checked={this.state.step}\r\n                        onChange={this.handleCheckboxChange} />\r\n                </label>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","let c, ctx, height, width, arr, num, stop, speed, skip, bar_width;\r\n\r\nfunction randomise() {\r\n    arr = [];\r\n\r\n    for (let i = 0; i < num; i++) {\r\n        arr.push(randrange(5, width));\r\n    }\r\n}\r\n\r\nexport function init() {\r\n    c = document.getElementById('sorting_canvas');\r\n    ctx = c.getContext(\"2d\");\r\n    height = c.height;\r\n    width = c.width;\r\n    stop = 0;\r\n    speed = 10;\r\n    skip = 1;\r\n}\r\n\r\nexport function reset() {\r\n    stop = 1;\r\n    randomise();\r\n\r\n    let t = speed;\r\n    speed = 0;\r\n    draw();\r\n    speed = t;\r\n\r\n}\r\n\r\nexport function update(n, s, k, w) {\r\n    num = n;\r\n    speed = s;\r\n    skip = k;\r\n    bar_width = parseInt(w);\r\n    height = c.height;\r\n\r\n    draw();\r\n}\r\n\r\nfunction randrange(low, high) {\r\n    return Math.floor(Math.random() * (high - low + 1) + low);\r\n}\r\n\r\nfunction draw() {\r\n    return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n            ctx.clearRect(0, 0, width, height);\r\n\r\n            ctx.beginPath();\r\n\r\n            for (let i = 0; i < arr.length; i++) {\r\n\r\n                ctx.rect(0, (i * (bar_width + 2)), arr[i], bar_width);\r\n            }\r\n\r\n            ctx.fill();\r\n            ctx.stroke();\r\n            ctx.closePath();\r\n\r\n            resolve(\"done drawing\");\r\n        }, speed)\r\n    })\r\n}\r\n\r\nexport async function bubble_sort() {\r\n    stop = 0;\r\n    let n = 0;\r\n\r\n    //For each loop\r\n    for (let i = 0; i < arr.length; i++) {\r\n        //For remaining items\r\n        for (let k = 0; k < arr.length - 1 - i; k++) {\r\n\r\n            if (arr[k] > arr[k + 1]) {\r\n\r\n                arr = swap(arr, k, k + 1)\r\n\r\n                if (n % skip == 0) {\r\n                    n = 0;\r\n                    await draw();\r\n                }\r\n\r\n                if (stop) {\r\n                    return\r\n                }\r\n\r\n                n++;\r\n            }\r\n        }\r\n    }\r\n\r\n    draw();\r\n}\r\n\r\nexport async function selection_sort() {\r\n\r\n    let n = 0;\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n        let maxidx = 0;\r\n\r\n        for (let k = 0; k < arr.length - i; k++) {\r\n            if (arr[maxidx] < arr[k]) {\r\n                maxidx = k;\r\n            }\r\n        }\r\n\r\n        arr = swap(arr, arr.length - i - 1, maxidx);\r\n\r\n        if (n % skip == 0) {\r\n            n = 0;\r\n            await draw();\r\n        }\r\n\r\n        n++;\r\n\r\n    }\r\n\r\n    draw();\r\n}\r\n\r\nfunction swap(a, i, j) {\r\n    let temp = a[i];\r\n    a[i] = a[j];\r\n    a[j] = temp;\r\n\r\n    return a;\r\n}","import React from 'react';\r\nimport { update, reset, init, bubble_sort, selection_sort, quick_sort } from './sorting';\r\n\r\nexport class Sorting extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            num: 100,\r\n            speed: 10,\r\n            skip: 1,\r\n            width: 3\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleReset = this.handleReset.bind(this);\r\n        this.handleUpdate = this.handleUpdate.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        init();\r\n        this.handleUpdate();\r\n        reset();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.handleUpdate();\r\n    }\r\n\r\n    handleUpdate() {\r\n        update(\r\n            this.state.num,\r\n            this.state.speed,\r\n            this.state.skip,\r\n            this.state.width\r\n        );\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    handleReset(e) {\r\n        reset();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"outer\">\r\n                <h1>Sorting Algorithms</h1>\r\n                <button onClick={this.handleReset}>Reset</button>\r\n\r\n                <br />\r\n\r\n                <button onClick={bubble_sort}>Bubble Sort</button>\r\n                <button onClick={selection_sort}>Selection Sort</button>\r\n\r\n                <br />\r\n\r\n                <label>\r\n                    Number\r\n                    <input type=\"number\" value={this.state.num} name=\"num\" onChange={this.handleChange}></input>\r\n                </label>\r\n\r\n                <br />\r\n\r\n                <label>\r\n                    Width\r\n                    <input type=\"number\" value={this.state.width} name=\"width\" onChange={this.handleChange}></input>\r\n                </label>\r\n\r\n                <br />\r\n\r\n                <label>\r\n                    Speed\r\n                    <input type=\"number\" value={this.state.speed} name=\"speed\" onChange={this.handleChange} />\r\n                </label>\r\n\r\n                <label>\r\n                    Skip\r\n                    <input type=\"number\" value={this.state.skip} name=\"skip\" onChange={this.handleChange} />\r\n                </label>\r\n\r\n                <canvas id=\"sorting_canvas\" width={window.innerWidth} height={this.state.num * (this.state.width + 2)}></canvas>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport class Collisions extends React.Component {\r\n    render() {\r\n        return (<h1>Collisions</h1>)\r\n    }\r\n}","//https://github.com/rhardin/node-statistics2/blob/master/lib/statistics2.js\r\n\r\nexport function pchi2dist(n, y) { return pchi2(n, 1.0 - y); }\r\nexport function chi2dist(n, x) { return 1.0 - q_chi2(n, x); }\r\n\r\nfunction pchi2(n, y) {\r\n    var w, eps, v, s, qe;\r\n\r\n    if (n === 1) {\r\n        w = pnorm(1 - y / 2);\r\n        return w * w;\r\n    } else if (n === 2) {\r\n        return -2.0 * Math.log(y);\r\n    }\r\n\r\n    eps = 1.0e-5;\r\n    v = 0.0;\r\n    s = 10.0;\r\n    while (true) {\r\n        v = v + 2;\r\n\r\n        if (s <= eps) { break; }\r\n        if ((qe = q_chi2(n, v) - y) === 0.0) { break; }\r\n        if (qe < 0.0) {\r\n            v = v - s;\r\n            s = s / 10.0;\r\n        }\r\n    }\r\n    return v;\r\n}\r\n\r\nfunction pnorm(qn) {\r\n    var b = [1.570796288, 0.03706987906, -0.8364353589e-3,\r\n        -0.2250947176e-3, 0.6841218299e-5, 0.5824238515e-5,\r\n        -0.104527497e-5, 0.8360937017e-7, -0.3231081277e-8,\r\n        0.3657763036e-10, 0.6936233982e-12],\r\n        w1 = qn,\r\n        w3 = -Math.log(4.0 * w1 * (1.0 - w1)),\r\n        i = 1;\r\n\r\n    if (qn < 0.0 || qn > 1.0) { return 0.0; }\r\n    if (qn === 0.5) { return 0.0; }\r\n    if (qn > 0.5) { w1 = 1.0 - w1; }\r\n\r\n    w1 = b[0];\r\n    for (i; i < 11; i++) {\r\n        w1 += b[i] * Math.pow(w3, i);\r\n    }\r\n\r\n    if (qn > 0.5) { return Math.sqrt(w1 * w3); }\r\n\r\n    return -Math.sqrt(w1 * w3);\r\n}\r\n\r\n\r\nfunction normal__x(z) { return 1.0 - normaldist(z); }\r\n\r\nfunction q_chi2(df, chi2) {\r\n    var chi, t = 0, k = 0, s = 0;\r\n    if ((df & 1) !== 0) {\r\n        chi = Math.sqrt(chi2);\r\n\r\n        if (df === 1) { return 2 * normal__x(chi); }\r\n\r\n        t = chi * Math.exp(-0.5 * chi2) / Math.sqrt(2 * Math.PI);\r\n        s = t;\r\n        k = 3;\r\n        while (k < df) {\r\n            t = t * (chi2 / k);\r\n            s = s + t;\r\n            k = k + 2;\r\n        }\r\n\r\n        return 2 * (normal__x(chi) + s);\r\n    }\r\n\r\n    t = Math.exp(-0.5 * chi2);\r\n    s = t;\r\n    k = 2;\r\n    while (k < df) {\r\n        t = t * (chi2 / k);\r\n        s = s + t;\r\n        k = k + 2;\r\n    }\r\n\r\n    return s;\r\n}\r\n\r\n\r\n\r\n\r\nfunction normaldist(z) {\r\n    return p_nor(z);\r\n}\r\n\r\nfunction p_nor(z) {\r\n    var e, z2, prev = 0.0, t, p, i = 3;\r\n\r\n    if (z < -12) { return 0.0; }\r\n    if (z > 12) { return 1.0; }\r\n    if (z === 0.0) { return 0.5; }\r\n    if (z > 0) {\r\n        e = true;\r\n    } else {\r\n        e = false;\r\n        z = -z;\r\n    }\r\n\r\n    z2 = z * z;\r\n    p = z * Math.exp(-0.5 * z2) / Math.sqrt(2 * Math.PI);\r\n    t = p;\r\n\r\n    for (i; i < 200; i = i + 2) {\r\n        prev = p;\r\n        t = t * (z2 / i);\r\n        p = p + t;\r\n        if (p <= prev) { return (e ? 0.5 + p : 0.5 - p); }\r\n    }\r\n\r\n    return (e ? 1.0 : 0.0);\r\n}","import React from 'react';\r\nimport './chisquared.css';\r\nimport { expected_frequencies, chi_sq } from './chisquared';\r\nimport { chi2dist } from './pvalue';\r\n\r\nexport class ChiSquared extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            rows: 2,\r\n            columns: 2,\r\n            inputs: [],\r\n            values: [],\r\n            lookup: {},\r\n            horizontal: [],\r\n            horizontalv: [],\r\n            vertical: [],\r\n            verticalv: [],\r\n            sumh: [],\r\n            sumv: [],\r\n            total: [],\r\n            freq: [],\r\n            enough: false,\r\n            warning: true,\r\n            chi: 0,\r\n            sig: 0.05\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.update = this.update.bind(this);\r\n        this.renderTable = this.renderTable.bind(this);\r\n        this.dataChange = this.dataChange.bind(this);\r\n        this.renderData = this.renderData.bind(this);\r\n        this.renderHeader = this.renderHeader.bind(this);\r\n        this.headerChange = this.headerChange.bind(this);\r\n        this.renderLeft = this.renderLeft.bind(this);\r\n        this.leftChange = this.leftChange.bind(this);\r\n        this.init = this.init.bind(this);\r\n        this.footerSum = this.footerSum.bind(this);\r\n        this.totalUpdate = this.totalUpdate.bind(this);\r\n        this.expectedBody = this.expectedBody.bind(this);\r\n        this.expectedHeader = this.expectedHeader.bind(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.init();\r\n        await this.update();\r\n        await this.totalUpdate();\r\n    }\r\n\r\n    init() {\r\n        let r = this.state.rows;\r\n        let c = this.state.columns;\r\n        let h = [];\r\n        let hv = [];\r\n        let z = [];\r\n        let zv = [];\r\n\r\n        for (let i = 0; i < r; i++) {\r\n            let hn = `horizontal-${i}`;\r\n            h.push(hn);\r\n            hv.push(\"\");\r\n            this.state.lookup[hn] = i;\r\n        }\r\n\r\n        for (let j = 0; j < c; j++) {\r\n            let zn = `vertical-${j}`;\r\n            z.push(zn)\r\n            zv.push(\"\")\r\n\r\n            this.state.lookup[zn] = j;\r\n        }\r\n\r\n        this.state.horizontal = h;\r\n        this.state.horizontalv = hv;\r\n        this.state.vertical = z;\r\n        this.state.verticalv = zv;\r\n\r\n        this.forceUpdate();\r\n\r\n    }\r\n\r\n    update() {\r\n        let r = this.state.rows;\r\n        let c = this.state.columns;\r\n        let v = [];\r\n        let l = [];\r\n        let h = this.state.horizontal;\r\n        let hv = this.state.horizontalv;\r\n        let z = this.state.vertical;\r\n        let zv = this.state.verticalv;\r\n\r\n        if (r > this.state.horizontal.length) {\r\n            let hn = `horizontal-${r - 1}`;\r\n\r\n            h.push(hn);\r\n            hv.push(\"\");\r\n\r\n            this.state.lookup[hn] = r - 1;\r\n        }\r\n\r\n        if (r < this.state.horizontal.length) {\r\n            h.pop();\r\n            hv.pop();\r\n        }\r\n\r\n        if (c > this.state.vertical.length) {\r\n            let zn = `vertical-${c - 1}`;\r\n\r\n            z.push(zn);\r\n            zv.push(\"\");\r\n\r\n            this.state.lookup[zn] = c - 1;\r\n        }\r\n\r\n        if (c < this.state.vertical.length) {\r\n            z.pop();\r\n            zv.pop();\r\n        }\r\n\r\n        for (let i = 0; i < r; i++) {\r\n            v.push([]);\r\n            l.push([]);\r\n\r\n            for (let k = 0; k < c; k++) {\r\n                v[i].push(0);\r\n\r\n                let n = `input-${i}-${k}`;\r\n                l[i].push(n);\r\n\r\n                this.state.lookup[n] = [i, k];\r\n            }\r\n        }\r\n\r\n\r\n        this.setState({\r\n            values: v,\r\n            inputs: l,\r\n            horizontal: h,\r\n            horizontalv: hv,\r\n            vertical: z,\r\n            verticalv: zv\r\n        })\r\n\r\n    }\r\n\r\n    async handleChange(e) {\r\n        await this.setState({ [e.target.name]: parseInt(e.target.value) })\r\n\r\n        this.update();\r\n        this.totalUpdate();\r\n    }\r\n\r\n    dataChange(e) {\r\n        let name = e.target.name;\r\n        let r = this.state.lookup[name][0];\r\n        let c = this.state.lookup[name][1];\r\n\r\n        this.state.values[r][c] = parseFloat(e.target.value);\r\n\r\n        this.totalUpdate();\r\n\r\n        const a = expected_frequencies(this.state.sumh, this.state.sumv, this.state.total);\r\n        const b = chi_sq(a[0], this.state.values);\r\n\r\n        this.setState({ freq: a[0], enough: a[1], warning: a[2], chi: b });\r\n    }\r\n\r\n    totalUpdate() {\r\n        this.state.sumh = [];\r\n        this.state.sumv = [];\r\n\r\n        for (let i = 0; i < this.state.horizontal.length; i++) {\r\n            this.state.sumh.push(this.state.values[i].reduce((a, b) => a + b, 0))\r\n        }\r\n\r\n        for (let col = 0; col < this.state.vertical.length; col++) {\r\n            let sum = 0\r\n\r\n            for (let row = 0; row < this.state.horizontal.length; row++) {\r\n                sum += this.state.values[row][col];\r\n            }\r\n\r\n            this.state.sumv.push(sum)\r\n        }\r\n\r\n        this.state.total = this.state.sumh.reduce((a, b) => a + b, 0);\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n\r\n    renderTable() {\r\n        let num = -1;\r\n        return (\r\n            this.state.inputs.map((inp) => {\r\n                num++;\r\n                return (\r\n                    <tr>\r\n                        {this.renderLeft(num)}\r\n                        {this.renderData(inp)}\r\n                        <td>\r\n                            {this.state.sumh[num]}\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    renderHeader() {\r\n        return (\r\n            <tr>\r\n                <td>Chi Squared</td>\r\n                {\r\n                    this.state.vertical.map(name => {\r\n                        let pos = this.state.lookup[name];\r\n                        let n = `Category ${pos + 1}`\r\n\r\n                        return (\r\n                            <td>\r\n                                <input\r\n                                    name={name}\r\n                                    type=\"text\"\r\n                                    placeholder={n}\r\n                                    value={this.state.verticalv[pos]}\r\n                                    onChange={this.headerChange}\r\n                                />\r\n                            </td>\r\n                        )\r\n                    })\r\n                }\r\n\r\n                <td>Total</td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n\r\n    headerChange(e) {\r\n        this.update();\r\n\r\n        let name = e.target.name;\r\n        let pos = this.state.lookup[name];\r\n\r\n        this.state.verticalv[pos] = (e.target.value);\r\n\r\n        this.forceUpdate();\r\n\r\n    }\r\n\r\n    renderLeft(num) {\r\n        let name = this.state.horizontal[num];\r\n        let n = `Category ${num + 1}`\r\n\r\n        return (\r\n            <td>\r\n                <input\r\n                    name={name}\r\n                    type=\"text\"\r\n                    placeholder={n}\r\n                    value={this.state.horizontalv[num]}\r\n                    onChange={this.leftChange}\r\n                />\r\n            </td>\r\n        )\r\n    }\r\n\r\n    leftChange(e) {\r\n        this.update();\r\n\r\n        let name = e.target.name;\r\n        let pos = this.state.lookup[name];\r\n\r\n        this.state.horizontalv[pos] = (e.target.value);\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n    footerSum() {\r\n        return (\r\n            <tr>\r\n                <td>Total</td>\r\n\r\n                {this.state.sumv.map(v => {\r\n                    return (\r\n                        <td>{v}</td>\r\n                    )\r\n                })}\r\n\r\n                <td>{this.state.total}</td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    renderData(inp) {\r\n        return (\r\n            inp.map(data => {\r\n\r\n                let r = this.state.lookup[data][0];\r\n                let c = this.state.lookup[data][1];\r\n\r\n                return (<td>\r\n                    <input\r\n                        name={data}\r\n                        key={data}\r\n                        type=\"number\"\r\n                        step=\"any\"\r\n                        min=\"0\"\r\n                        value={this.state.values[r][c]}\r\n                        onChange={this.dataChange}\r\n                    />\r\n                </td>)\r\n\r\n            })\r\n        )\r\n    }\r\n\r\n    expectedHeader() {\r\n        return (\r\n            <tr>\r\n                <td>Expected Frequencies</td>\r\n\r\n                {this.state.verticalv.map(val => {\r\n                    return (\r\n                        <td className=\"category\">{val}</td>\r\n                    )\r\n                })}\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    expectedBody() {\r\n\r\n        let num = -1\r\n\r\n        return (\r\n            this.state.freq.map(row => {\r\n                num++;\r\n                return (<tr>\r\n                    <td className=\"category\">{this.state.horizontalv[num]}</td>\r\n\r\n                    {row.map(val => {\r\n                        return <td>{+val.toFixed(9)}</td>\r\n                    })}\r\n                </tr>)\r\n            })\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let en;\r\n        let war;\r\n        let result;\r\n        let df = (this.state.columns - 1) * (this.state.rows - 1);\r\n        const p = 1 - chi2dist(df, this.state.chi);\r\n\r\n        if (!this.state.enough) {\r\n            en = <h2>Not enough data fields filled in.</h2>\r\n        } else {\r\n            en = <h2></h2>\r\n        }\r\n\r\n        if (this.state.warning) {\r\n            war = <h3 id=\"warning\">WARNING: Some expected frequencies are below 5.</h3>\r\n        } else {\r\n            war = <h1></h1>\r\n        }\r\n\r\n        if (p < this.state.sig) {\r\n            result = <h3>There is sufficient evidence to reject H0</h3>\r\n        } else {\r\n            result = <h3>There is insufficient evidence to reject H0</h3>\r\n        }\r\n\r\n        return (\r\n            <div id=\"outer\">\r\n                <div id=\"input-boxes\">\r\n                    <label>\r\n                        Rows\r\n                        <input\r\n                            name=\"rows\"\r\n                            type=\"number\"\r\n                            value={this.state.rows}\r\n                            min=\"1\"\r\n                            onChange={this.handleChange} />\r\n                    </label>\r\n\r\n                    <p />\r\n\r\n                    <label>\r\n                        Columns\r\n                        <input\r\n                            name=\"columns\"\r\n                            type=\"number\"\r\n                            value={this.state.columns}\r\n                            min=\"1\"\r\n                            onChange={this.handleChange} />\r\n                    </label>\r\n\r\n                    <p />\r\n\r\n                    <label>\r\n                        Significance level\r\n                        <input\r\n                            name=\"sig\"\r\n                            type=\"number\"\r\n                            value={this.state.sig}\r\n                            min=\"0\"\r\n                            max=\"1\"\r\n                            step=\"any\"\r\n                            onChange={this.handleChange} />\r\n                    </label>\r\n                </div>\r\n\r\n\r\n                <p />\r\n\r\n                <table id=\"base\">\r\n                    <tbody>\r\n                        {this.renderHeader()}\r\n                        {this.renderTable()}\r\n                        {this.footerSum()}\r\n                    </tbody>\r\n                </table>\r\n\r\n                <br />\r\n\r\n                {en}\r\n\r\n                <br />\r\n\r\n                <table>\r\n                    <tbody>\r\n                        {this.expectedHeader()}\r\n                        {this.expectedBody()}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {war}\r\n\r\n                <h3>χ2 = {this.state.chi}</h3>\r\n\r\n                <h3>Degrees of freedom - {df}</h3>\r\n\r\n                <h3>P value - {p}</h3>\r\n\r\n                {result}\r\n            </div>\r\n        )\r\n    }\r\n}","export function expected_frequencies(sumh, sumv, total) {\r\n\r\n    let expected = [];\r\n    let enough = true;\r\n    let warning = false;\r\n\r\n    for (let row = 0; row < sumh.length; row++) {\r\n        expected.push([]);\r\n\r\n        let frac = sumh[row] / total\r\n        for (let col = 0; col < sumv.length; col++) {\r\n            let val = frac * sumv[col];\r\n\r\n            if (!val) {\r\n                enough = false;\r\n            }\r\n\r\n            if (val < 5) {\r\n                warning = true;\r\n            }\r\n\r\n            expected[row].push(+val);\r\n        }\r\n    }\r\n\r\n    return [expected, enough, warning];\r\n\r\n}\r\n\r\nexport function chi_sq(freq, values) {\r\n\r\n    let sum = 0\r\n\r\n    for (let i = 0; i < freq.length; i++) {\r\n        for (let k = 0; k < freq[i].length; k++) {\r\n            let e = freq[i][k];\r\n            let o = values[i][k];\r\n\r\n            sum += ((o - e) ** 2) / e\r\n        }\r\n    }\r\n\r\n    return sum\r\n}","import React from \"react\";\r\nimport { HashRouter, Switch, Route, Link } from \"react-router-dom\";\r\nimport './main.css'\r\nimport { Orbits } from \"./orbits/orbits.jsx\";\r\nimport { Quadtree } from \"./quadtree/quadtree.jsx\";\r\nimport { Maze } from \"./maze/maze.jsx\";\r\nimport { Sorting } from \"./sorting/sorting.jsx\";\r\nimport { Collisions } from \"./collsions/collisions.jsx\";\r\nimport { ChiSquared } from \"./chisquared/chisquared.jsx\";\r\n\r\nexport class Main extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<HashRouter basename=\"/\">\r\n\t\t\t\t<Switch>\r\n\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<div id='main'>\r\n\t\t\t\t\t\t\t<div class='tile' id='orbits'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/orbits\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\t<h1>Orbits</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class='tile' id='quadtree'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/quadtree\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\tquadtree\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class='tile' id='sorting'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/sorting\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\tSorting\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class='tile' id='maze'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/maze\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\tMaze\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* <div class='tile' id='collisions'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/collisions\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\tCollisions\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div> */}\r\n\r\n\t\t\t\t\t\t\t<div class='tile' id='chisquared'>\r\n\t\t\t\t\t\t\t\t<Link class=\"link\" to=\"/chisquared\">\r\n\t\t\t\t\t\t\t\t\t<div class='inside'>\r\n\t\t\t\t\t\t\t\t\t\tChi Squared\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/orbits\">\r\n\t\t\t\t\t\t<Orbits />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/quadtree\">\r\n\t\t\t\t\t\t<Quadtree />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/maze\">\r\n\t\t\t\t\t\t<Maze />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/sorting\">\r\n\t\t\t\t\t\t<Sorting />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t{/* <Route path=\"/collisions\">\r\n\t\t\t\t\t\t<Collisions />\r\n\t\t\t\t\t</Route> */}\r\n\r\n\t\t\t\t\t<Route path=\"/chisquared\">\r\n\t\t\t\t\t\t<ChiSquared />\r\n\t\t\t\t\t</Route>\r\n\r\n\r\n\r\n\t\t\t\t</Switch>\r\n\t\t\t</HashRouter>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Main } from \"./Main.jsx\";\n\nReactDOM.render(<Main />, document.getElementById(\"app\"));\nconsole.log(\"Loaded\")"],"sourceRoot":""}